<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>SHAiButtonUser (OpenEMS Javadoc)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SHAiButtonUser (OpenEMS Javadoc)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":6,"i8":10,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":10,"i15":10,"i16":6,"i17":6,"i18":10,"i19":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.dalsemi.onewire.application.sha</a></div>
<h2 title="Class SHAiButtonUser" class="title">Class SHAiButtonUser</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.dalsemi.onewire.application.sha.SHAiButtonUser</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="SHAiButtonUser18.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonUser18</a></code>, <code><a href="SHAiButtonUser33.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonUser33</a></code></dd>
</dl>
<hr>
<pre>public abstract class <span class="typeNameLabel">SHAiButtonUser</span>
extends java.lang.Object</pre>
<div class="block"><P>
 The abstract superclass for all users of a SHAiButton transaction system. The
 user in a SHA transaction system mainly consists of a page (or pages) of
 account data. The abstract superclass guarantees an interface for retrieving
 information about account data, as well as reading and writing that data.
 <P>

 <P>
 <code>SHAiButtonUser</code> was defined for use with the DS1963S (family code
 0x18) and the DS1961S (family code 0x33). The benefit to using our SHA
 iButtons in a transaction is for device authentication. Using a
 challenge-response protocol, the DS1961S and the DS1963S can authenticate
 themselves to the system before their actual account data is verified. But,
 if device authentication isn't important to your transaction, the
 <code>SHAiButtonUser</code> can be extended to support any 1-Wire memory
 device.
 </P>

 <P>
 The format of user's account data is not specified by this class, only the
 interface for accessing it. Each different SHATransaction is free to
 implement whatever format is appropriate for the transaction type.
 </P></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="SHATransaction.html" title="class in com.dalsemi.onewire.application.sha"><code>SHATransaction</code></a>, 
<a href="SHAiButtonCopr.html" title="class in com.dalsemi.onewire.application.sha"><code>SHAiButtonCopr</code></a>, 
<a href="SHAiButtonUser18.html" title="class in com.dalsemi.onewire.application.sha"><code>SHAiButtonUser18</code></a>, 
<a href="SHAiButtonUser33.html" title="class in com.dalsemi.onewire.application.sha"><code>SHAiButtonUser33</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#accountData">accountData</a></span></code></th>
<td class="colLast">
<div class="block">local cache of accountData</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#accountPageNumber">accountPageNumber</a></span></code></th>
<td class="colLast">
<div class="block">page number account data is stored on</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#address">address</a></span></code></th>
<td class="colLast">
<div class="block">Cache of 1-Wire Address</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#forceOverdrive">forceOverdrive</a></span></code></th>
<td class="colLast">
<div class="block">force 1-wire container into overdrive speed</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#fullBindCode">fullBindCode</a></span></code></th>
<td class="colLast">
<div class="block">maintains a cache of the fullBindCode, for later binding of coprocessor.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#serviceFile">serviceFile</a></span></code></th>
<td class="colLast">
<div class="block">used to construct appropriate string for OWFile constructor</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#strServiceFilename">strServiceFilename</a></span></code></th>
<td class="colLast">
<div class="block">stores string name of user's service file</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeCycleCounter">writeCycleCounter</a></span></code></th>
<td class="colLast">
<div class="block">local cache of writeCycleCounter for data page</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">SHAiButtonUser</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkAccountPageInfo(com.dalsemi.onewire.container.OneWireContainer)">checkAccountPageInfo</a></span>&#8203;(<a href="../../container/OneWireContainer.html" title="class in com.dalsemi.onewire.container">OneWireContainer</a>&nbsp;ibc)</code></th>
<td class="colLast">
<div class="block">
 Asserts that proper account info exists for this SHAiButtonUser and
 establishes a buffer for caching account data.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createServiceFile(com.dalsemi.onewire.container.OneWireContainer,java.lang.String,boolean)">createServiceFile</a></span>&#8203;(<a href="../../container/OneWireContainer.html" title="class in com.dalsemi.onewire.container">OneWireContainer</a>&nbsp;owc,
                 java.lang.String&nbsp;filename,
                 boolean&nbsp;formatDevice)</code></th>
<td class="colLast">
<div class="block">
 Create's empty service file for the user with the given filename.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAccountFilename()">getAccountFilename</a></span>()</code></th>
<td class="colLast">
<div class="block">
 Returns the TMEX filename of the user's account data file.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAccountPageNumber()">getAccountPageNumber</a></span>()</code></th>
<td class="colLast">
<div class="block">
 Returns the page number of the first memory page where account data is
 stored.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAddress()">getAddress</a></span>()</code></th>
<td class="colLast">
<div class="block">
 Returns the 8 byte address of the OneWireContainer this SHAiButton refers to.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAddress(byte%5B%5D,int)">getAddress</a></span>&#8203;(byte[]&nbsp;data,
          int&nbsp;offset)</code></th>
<td class="colLast">
<div class="block">
 Copies the 8 byte address of the OneWireContainer into the provided array
 starting at the given offset.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAddress(byte%5B%5D,int,int)">getAddress</a></span>&#8203;(byte[]&nbsp;data,
          int&nbsp;offset,
          int&nbsp;cnt)</code></th>
<td class="colLast">
<div class="block">
 Copies the specified number of bytes from the address of the OneWireContainer
 into the provided array starting at the given offset.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>abstract byte</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAuthorizationCommand()">getAuthorizationCommand</a></span>()</code></th>
<td class="colLast">
<div class="block">
 Returns a byte representing the appropriate authorization command for the
 coprocessor to use to authenticate this user.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getForceOverdrive()">getForceOverdrive</a></span>()</code></th>
<td class="colLast">
<div class="block">Reports whether or not the container is forced into overdrive.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getFullBindCode(byte%5B%5D,int)">getFullBindCode</a></span>&#8203;(byte[]&nbsp;l_fullBindCode,
               int&nbsp;offset)</code></th>
<td class="colLast">
<div class="block">
 This function creates the full 15-byte binding data for the coprocessor to
 use to recreate this user's secret on the copr's workspace page.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>abstract int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getWriteCycleCounter()">getWriteCycleCounter</a></span>()</code></th>
<td class="colLast">
<div class="block">
 Returns the value of the write cycle counter for the page where the account
 data is stored.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>abstract boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#hasWriteCycleCounter()">hasWriteCycleCounter</a></span>()</code></th>
<td class="colLast">
<div class="block">
 Returns <code>true</code> if this buttons account data is stored on a page
 that has a write cycle counter.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>abstract boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readAccountData(byte%5B%5D,int)">readAccountData</a></span>&#8203;(byte[]&nbsp;dataBuffer,
               int&nbsp;offset)</code></th>
<td class="colLast">
<div class="block">
 Reads the account data off the SHAiButton using a standard READ command.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>abstract int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readAccountData(byte%5B%5D,int,byte%5B%5D,int,byte%5B%5D,int)">readAccountData</a></span>&#8203;(byte[]&nbsp;chlg,
               int&nbsp;chlgStart,
               byte[]&nbsp;dataBuffer,
               int&nbsp;dataStart,
               byte[]&nbsp;mac,
               int&nbsp;macStart)</code></th>
<td class="colLast">
<div class="block">
 Reads the account data off the SHAiButton using a READ_AUTHENTICATE command.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#refreshDevice()">refreshDevice</a></span>()</code></th>
<td class="colLast">
<div class="block">Refreshes eeprom SHA devices in case of weakly-programmed bits on the account
 page.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setForceOverdrive(boolean)">setForceOverdrive</a></span>&#8203;(boolean&nbsp;value)</code></th>
<td class="colLast">
<div class="block">Sets whether or not the container should be forced into overdrive.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>abstract boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setiButtonUser(byte%5B%5D)">setiButtonUser</a></span>&#8203;(byte[]&nbsp;address)</code></th>
<td class="colLast">
<div class="block">
 Modifies this SHA iButton so that it refers to another device.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>abstract boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setiButtonUser(com.dalsemi.onewire.adapter.DSPortAdapter,byte%5B%5D)">setiButtonUser</a></span>&#8203;(<a href="../../adapter/DSPortAdapter.html" title="class in com.dalsemi.onewire.adapter">DSPortAdapter</a>&nbsp;adapter,
              byte[]&nbsp;address)</code></th>
<td class="colLast">
<div class="block">
 Modifies this SHA iButton so that it refers to another device.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#toString()">toString</a></span>()</code></th>
<td class="colLast">
<div class="block">
 Returns a string representing this SHAiButton.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>abstract boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeAccountData(byte%5B%5D,int)">writeAccountData</a></span>&#8203;(byte[]&nbsp;dataBuffer,
                int&nbsp;offset)</code></th>
<td class="colLast">
<div class="block">
 Writes the account data to the SHAiButton.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="address">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>address</h4>
<pre>protected&nbsp;byte[] address</pre>
<div class="block">Cache of 1-Wire Address</div>
</li>
</ul>
<a id="accountData">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>accountData</h4>
<pre>protected final&nbsp;byte[] accountData</pre>
<div class="block">local cache of accountData</div>
</li>
</ul>
<a id="accountPageNumber">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>accountPageNumber</h4>
<pre>protected&nbsp;int accountPageNumber</pre>
<div class="block">page number account data is stored on</div>
</li>
</ul>
<a id="serviceFile">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serviceFile</h4>
<pre>protected final&nbsp;byte[] serviceFile</pre>
<div class="block">used to construct appropriate string for OWFile constructor</div>
</li>
</ul>
<a id="strServiceFilename">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>strServiceFilename</h4>
<pre>protected&nbsp;java.lang.String strServiceFilename</pre>
<div class="block">stores string name of user's service file</div>
</li>
</ul>
<a id="fullBindCode">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fullBindCode</h4>
<pre>protected final&nbsp;byte[] fullBindCode</pre>
<div class="block">maintains a cache of the fullBindCode, for later binding of coprocessor.</div>
</li>
</ul>
<a id="writeCycleCounter">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeCycleCounter</h4>
<pre>protected&nbsp;int writeCycleCounter</pre>
<div class="block">local cache of writeCycleCounter for data page</div>
</li>
</ul>
<a id="forceOverdrive">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>forceOverdrive</h4>
<pre>protected&nbsp;boolean forceOverdrive</pre>
<div class="block">force 1-wire container into overdrive speed</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SHAiButtonUser</h4>
<pre>public&nbsp;SHAiButtonUser()</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getAccountPageNumber()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAccountPageNumber</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getAccountPageNumber()</pre>
<div class="block"><P>
 Returns the page number of the first memory page where account data is
 stored.
 </P></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>page number where account data is stored.</dd>
</dl>
</li>
</ul>
<a id="getAccountFilename()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAccountFilename</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getAccountFilename()</pre>
<div class="block"><P>
 Returns the TMEX filename of the user's account data file.
 </P></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>filename of user's account data file</dd>
</dl>
</li>
</ul>
<a id="getAddress()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAddress</h4>
<pre class="methodSignature">public&nbsp;byte[]&nbsp;getAddress()</pre>
<div class="block"><P>
 Returns the 8 byte address of the OneWireContainer this SHAiButton refers to.
 </P></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>8 byte array containing family code, address, and crc8 of the OneWire
         device.</dd>
</dl>
</li>
</ul>
<a id="getAddress(byte[],int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAddress</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;getAddress&#8203;(byte[]&nbsp;data,
                       int&nbsp;offset)</pre>
<div class="block"><P>
 Copies the 8 byte address of the OneWireContainer into the provided array
 starting at the given offset.
 </P></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - array with at least 8 bytes after offset</dd>
<dd><code>offset</code> - the index at which copying starts</dd>
</dl>
</li>
</ul>
<a id="getAddress(byte[],int,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAddress</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;getAddress&#8203;(byte[]&nbsp;data,
                       int&nbsp;offset,
                       int&nbsp;cnt)</pre>
<div class="block"><P>
 Copies the specified number of bytes from the address of the OneWireContainer
 into the provided array starting at the given offset.
 </P></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - array with at least cnt bytes after offset</dd>
<dd><code>offset</code> - the index at which copying starts</dd>
<dd><code>cnt</code> - the number of bytes to copy</dd>
</dl>
</li>
</ul>
<a id="setForceOverdrive(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setForceOverdrive</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setForceOverdrive&#8203;(boolean&nbsp;value)</pre>
<div class="block">Sets whether or not the container should be forced into overdrive.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>value</code> - if true, the container will be forced to overdrive</dd>
</dl>
</li>
</ul>
<a id="getForceOverdrive()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getForceOverdrive</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;getForceOverdrive()</pre>
<div class="block">Reports whether or not the container is forced into overdrive.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>if true, the container will be forced to overdrive</dd>
</dl>
</li>
</ul>
<a id="createServiceFile(com.dalsemi.onewire.container.OneWireContainer,java.lang.String,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createServiceFile</h4>
<pre class="methodSignature">protected&nbsp;boolean&nbsp;createServiceFile&#8203;(<a href="../../container/OneWireContainer.html" title="class in com.dalsemi.onewire.container">OneWireContainer</a>&nbsp;owc,
                                    java.lang.String&nbsp;filename,
                                    boolean&nbsp;formatDevice)</pre>
<div class="block"><P>
 Create's empty service file for the user with the given filename. Also, it
 populates <code>accountPageNumber</code> with the page that the service file
 is stored on.
 </P></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>owc</code> - the 1-wire device where the service file will be created.</dd>
<dd><code>filename</code> - the filename of the service file.</dd>
<dd><code>formatDevice</code> - if <code>true</code>, the device is formatted before
                     creating the service file.</dd>
</dl>
</li>
</ul>
<a id="checkAccountPageInfo(com.dalsemi.onewire.container.OneWireContainer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkAccountPageInfo</h4>
<pre class="methodSignature">protected&nbsp;boolean&nbsp;checkAccountPageInfo&#8203;(<a href="../../container/OneWireContainer.html" title="class in com.dalsemi.onewire.container">OneWireContainer</a>&nbsp;ibc)</pre>
<div class="block"><P>
 Asserts that proper account info exists for this SHAiButtonUser and
 establishes a buffer for caching account data.
 </P></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ibc</code> - the OneWireContainer whose account info is checked</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether or not the device is initialized properly</dd>
</dl>
</li>
</ul>
<a id="setiButtonUser(com.dalsemi.onewire.adapter.DSPortAdapter,byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setiButtonUser</h4>
<pre class="methodSignature">public abstract&nbsp;boolean&nbsp;setiButtonUser&#8203;(<a href="../../adapter/DSPortAdapter.html" title="class in com.dalsemi.onewire.adapter">DSPortAdapter</a>&nbsp;adapter,
                                       byte[]&nbsp;address)
                                throws <a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a>,
                                       <a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></pre>
<div class="block"><P>
 Modifies this SHA iButton so that it refers to another device. If this object
 already has an appropriate instance of OneWireContainer, that instance is
 updated with the new address.
 </P></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>adapter</code> - The adapter that the device can be found on.</dd>
<dd><code>address</code> - The address of the 1-Wire device</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if a valid account service file exists on this
         <code>OneWireContainer18</code>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></code> - on a 1-Wire communication error such as reading an
                            incorrect CRC from a 1-Wire device. This could be
                            caused by a physical interruption in the 1-Wire
                            Network due to shorts or a newly arriving 1-Wire
                            device issuing a 'presence pulse'.</dd>
<dd><code><a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a></code> - on a communication or setup error with the 1-Wire
                            adapter</dd>
</dl>
</li>
</ul>
<a id="setiButtonUser(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setiButtonUser</h4>
<pre class="methodSignature">public abstract&nbsp;boolean&nbsp;setiButtonUser&#8203;(byte[]&nbsp;address)
                                throws <a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a>,
                                       <a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></pre>
<div class="block"><P>
 Modifies this SHA iButton so that it refers to another device. If this object
 does not already has an appropriate instance of OneWireContainer, it returns
 false immediately, because there is no adapter info available. Otherwise, it
 reuses the same adapter.
 </P></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>address</code> - The address of the 1-Wire device</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if a valid account service file exists on this
         <code>OneWireContainer18</code>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></code> - on a 1-Wire communication error such as reading an
                            incorrect CRC from a 1-Wire device. This could be
                            caused by a physical interruption in the 1-Wire
                            Network due to shorts or a newly arriving 1-Wire
                            device issuing a 'presence pulse'.</dd>
<dd><code><a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a></code> - on a communication or setup error with the 1-Wire
                            adapter</dd>
</dl>
</li>
</ul>
<a id="getWriteCycleCounter()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWriteCycleCounter</h4>
<pre class="methodSignature">public abstract&nbsp;int&nbsp;getWriteCycleCounter()
                                  throws <a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a>,
                                         <a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></pre>
<div class="block"><P>
 Returns the value of the write cycle counter for the page where the account
 data is stored. If the write cycle counter has ever been retrieved, this
 returns the cached value. Otherwise, this method reads the value from the
 part.
 </P>

 <P>
 For devices that do not support write cycle counters, this method always
 returns -1.
 </P></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the value of the write cycle counter for the account data page.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></code> - on a 1-Wire communication error such as reading an
                            incorrect CRC from a 1-Wire device. This could be
                            caused by a physical interruption in the 1-Wire
                            Network due to shorts or a newly arriving 1-Wire
                            device issuing a 'presence pulse'.</dd>
<dd><code><a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a></code> - on a communication or setup error with the 1-Wire
                            adapter</dd>
</dl>
</li>
</ul>
<a id="hasWriteCycleCounter()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasWriteCycleCounter</h4>
<pre class="methodSignature">public abstract&nbsp;boolean&nbsp;hasWriteCycleCounter()</pre>
<div class="block"><P>
 Returns <code>true</code> if this buttons account data is stored on a page
 that has a write cycle counter.
 </P></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if account page has write cycle counter.</dd>
</dl>
</li>
</ul>
<a id="getFullBindCode(byte[],int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFullBindCode</h4>
<pre class="methodSignature">public abstract&nbsp;void&nbsp;getFullBindCode&#8203;(byte[]&nbsp;l_fullBindCode,
                                     int&nbsp;offset)</pre>
<div class="block"><P>
 This function creates the full 15-byte binding data for the coprocessor to
 use to recreate this user's secret on the copr's workspace page. This
 function is located in the SHAiButtonUser class to support binding codes for
 user buttons who use alternate techniques (such as the DS1961S) for secret
 computation.
 </P></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bindCode</code> - the 7-byte binding code from coprocessor's service file</dd>
<dd><code>fullBindCode</code> - the 15-byte full binding code to to be copied into the
                     coprocessor's scratchpad. There should be 15 bytes
                     available starting from the offset.</dd>
<dd><code>offset</code> - the offset into fullBindCode where copying should begin.</dd>
</dl>
</li>
</ul>
<a id="getAuthorizationCommand()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAuthorizationCommand</h4>
<pre class="methodSignature">public abstract&nbsp;byte&nbsp;getAuthorizationCommand()</pre>
<div class="block"><P>
 Returns a byte representing the appropriate authorization command for the
 coprocessor to use to authenticate this user. For a DS1961S, the
 authentication command is AUTH_HOST, but for a DS1963S, the authentication
 command is VALIDATE_PAGE.
 </P></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>byte indicating appropriate command for authenticating user</dd>
</dl>
</li>
</ul>
<a id="writeAccountData(byte[],int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeAccountData</h4>
<pre class="methodSignature">public abstract&nbsp;boolean&nbsp;writeAccountData&#8203;(byte[]&nbsp;dataBuffer,
                                         int&nbsp;offset)
                                  throws <a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a>,
                                         <a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></pre>
<div class="block"><P>
 Writes the account data to the SHAiButton. First, this function asserts that
 the account page number is known. The account data is copied from dataBuffer
 starting at the offset. If there are less than 32 bytes available to copy,
 this function only copies the bytes that are available.
 </P></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dataBuffer</code> - the buffer to copy the account data from</dd>
<dd><code>offset</code> - the index into the buffer where copying should begin</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether or not the data write succeeded</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></code> - on a 1-Wire communication error such as reading an
                            incorrect CRC from a 1-Wire device. This could be
                            caused by a physical interruption in the 1-Wire
                            Network due to shorts or a newly arriving 1-Wire
                            device issuing a 'presence pulse'.</dd>
<dd><code><a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a></code> - on a communication or setup error with the 1-Wire
                            adapter</dd>
</dl>
</li>
</ul>
<a id="readAccountData(byte[],int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readAccountData</h4>
<pre class="methodSignature">public abstract&nbsp;boolean&nbsp;readAccountData&#8203;(byte[]&nbsp;dataBuffer,
                                        int&nbsp;offset)
                                 throws <a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a>,
                                        <a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></pre>
<div class="block"><P>
 Reads the account data off the SHAiButton using a standard READ command.
 First, this function asserts that the account page number is known as well as
 the length of the account file. The 32 byte account data page is copied into
 dataBuffer starting at the given offset.
 </P></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dataBuffer</code> - the buffer to copy the account data into</dd>
<dd><code>offset</code> - the index into the buffer where copying should begin</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether or not the read was successful</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></code> - on a 1-Wire communication error such as reading an
                            incorrect CRC from a 1-Wire device. This could be
                            caused by a physical interruption in the 1-Wire
                            Network due to shorts or a newly arriving 1-Wire
                            device issuing a 'presence pulse'.</dd>
<dd><code><a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a></code> - on a communication or setup error with the 1-Wire
                            adapter</dd>
</dl>
</li>
</ul>
<a id="readAccountData(byte[],int,byte[],int,byte[],int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readAccountData</h4>
<pre class="methodSignature">public abstract&nbsp;int&nbsp;readAccountData&#8203;(byte[]&nbsp;chlg,
                                    int&nbsp;chlgStart,
                                    byte[]&nbsp;dataBuffer,
                                    int&nbsp;dataStart,
                                    byte[]&nbsp;mac,
                                    int&nbsp;macStart)
                             throws <a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a>,
                                    <a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></pre>
<div class="block"><P>
 Reads the account data off the SHAiButton using a READ_AUTHENTICATE command.
 First, this function asserts that the account page number is known as well as
 the length of the account file. Then it copies the 3 byte challenge to the
 scratchpad before sending the command for READ_AUTHENTICATE. The 32 byte
 account data page is copied into dataBuffer starting at dataStart.
 </P>

 <P>
 In addition to the account data, this function also returns a calculated MAC.
 The MAC requires 20 bytes after the start index. The return value is the
 write cycle counter value for the account data page
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>chlg</code> - the buffer containing a 3-byte random challenge.</dd>
<dd><code>chlgStart</code> - the index into the buffer where the 3 byte challenge
                   begins.</dd>
<dd><code>dataBuffer</code> - the buffer to copy the account data into</dd>
<dd><code>dataStart</code> - the index into the buffer where copying should begin</dd>
<dd><code>mac</code> - the buffer to copy the resulting Message Authentication
                   Code</dd>
<dd><code>macStart</code> - the index into the mac buffer to start copying</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the value of the write cycle counter for the page</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></code> - on a 1-Wire communication error such as reading an
                            incorrect CRC from a 1-Wire device. This could be
                            caused by a physical interruption in the 1-Wire
                            Network due to shorts or a newly arriving 1-Wire
                            device issuing a 'presence pulse'.</dd>
<dd><code><a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a></code> - on a communication or setup error with the 1-Wire
                            adapter</dd>
</dl>
</li>
</ul>
<a id="refreshDevice()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refreshDevice</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;refreshDevice()
                      throws <a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a>,
                             <a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></pre>
<div class="block">Refreshes eeprom SHA devices in case of weakly-programmed bits on the account
 page.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the refresh was successful</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a></code></dd>
<dd><code><a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></code></dd>
</dl>
</li>
</ul>
<a id="toString()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block"><P>
 Returns a string representing this SHAiButton.
 </P></div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a string containing the 8-byte address of this 1-Wire device.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
