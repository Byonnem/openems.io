<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controller :: Open Energy Management System</title>
    <link rel="canonical" href="https://openems.github.io/openems.io/openems/latest/edge/controller.html">
    <meta name="keywords" content="AsciiDoc">
    <meta name="generator" content="Antora 2.2.0">
    <link rel="stylesheet" href="../../../_/css/site.css">
<link rel="icon" href="../../../_/img/feneco.ico" type="image/x-icon">
<link rel="stylesheet" href="../../../_/css/vendor/docsearch.min.css">  </head>
  <body class="article">
<header class="header">
  <nav class="navbar" color="#2d8fab">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://github.com/OpenEMS/openems">OpenEMS // Docs</a>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/OpenEMS/openems">
          <span class="gitlink">
          </span>
        </a>
      </div>
    </div>
  </nav>
</header><div class="main-wrapper">
<div class="navigation-container" data-component="openems" data-version="latest">
  <aside class="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../introduction.html">Open Energy Management System</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../gettingstarted.html">Getting Started</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../coreconcepts.html">Core concepts &amp; terminology</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">OpenEMS Edge</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="architecture.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="nature.html">Nature</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="scheduler.html">Scheduler</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="controller.html">Controller</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bridge.html">Bridge</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="device_service.html">Device &amp; Service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="implement.html">Implementing a Device</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="build.html">Build OpenEMS Edge</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="deploy.html">Deploy OpenEMS Edge</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">OpenEMS UI</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ui/build.html">Build OpenEMS UI</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">OpenEMS Backend</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../backend/architecture.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../backend/configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../backend/backend-to-backend.html">Backend-to-Backend</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../backend/build.html">Build OpenEMS Backend</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../backend/deploy.html">Deploy OpenEMS Backend</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../component-communication/index.html">Component Communication</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Simulation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../simulation/realtime.html">Real-Time Simulation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../simulation/ui-history.html">UI History Simulation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../documentation.html">Documentation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../randd.html">Research and Development</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://openems.github.io/openems.io/javadoc/">Javadoc</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">Open Energy Management System</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Open Energy Management System</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../introduction.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="../introduction.html" class="home-link"></a>
<nav class="crumbs" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="../introduction.html">Open Energy Management System</a></li>
    <li class="crumb">OpenEMS Edge</li>
    <li class="crumb"><a href="controller.html">Controller</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/OpenEMS/openems/tree/HEAD/doc/modules/ROOT/pages/edge/controller.adoc">Edit this Page</a></div>
</div>
<article class="doc">
<h1>Controller</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_api_backend">1. Api Backend</a></li>
<li><a href="#_api_modbus">2. Api Modbus</a></li>
<li><a href="#_rest_api_controller">3. REST-Api Controller</a>
<ul class="sectlevel2">
<li><a href="#_endpoint_restchannelcomponent_idchannel_id">3.1. Endpoint <code>/rest/channel/&lt;Component-ID&gt;/&lt;Channel-ID&gt;</code></a>
<ul class="sectlevel3">
<li><a href="#_get">3.1.1. GET</a></li>
<li><a href="#_post">3.1.2. POST</a></li>
</ul>
</li>
<li><a href="#_endpoint_jsonrpc">3.2. Endpoint '/jsonrpc'</a>
<ul class="sectlevel3">
<li><a href="#_getedgeconfig">3.2.1. getEdgeConfig</a></li>
<li><a href="#_componentjsonapi">3.2.2. componentJsonApi</a>
<ul class="sectlevel4">
<li><a href="#_getmodbusprotocol">3.2.2.1. getModbusProtocol</a></li>
</ul>
</li>
<li><a href="#_updatecomponentconfig">3.2.3. updateComponentConfig</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_api_websocket">4. Api Websocket</a></li>
<li><a href="#_asymmetric_balancing_cos_phi">5. Asymmetric Balancing Cos-Phi</a></li>
<li><a href="#_asymmetric_fix_active_power">6. Asymmetric Fix Active Power</a></li>
<li><a href="#_asymmetric_fix_reactive_power">7. Asymmetric Fix Reactive Power</a></li>
<li><a href="#_asymmetric_phase_rectification">8. Asymmetric Phase Rectification</a></li>
<li><a href="#_channel_threshold">9. Channel-Threshold</a></li>
<li><a href="#_chp_control_via_state_of_charge_soc">10. CHP control via State-of-Charge (SoC)</a>
<ul class="sectlevel2">
<li><a href="#_configuration">10.1. Configuration</a></li>
<li><a href="#_example_configuration">10.2. Example Configuration</a></li>
</ul>
</li>
<li><a href="#_detailed_debug_log">11. Detailed Debug Log</a></li>
<li><a href="#_debug_log">12. Debug Log</a></li>
<li><a href="#_ess_ac_island">13. ESS AC-Island</a></li>
<li><a href="#_ess_delay_charge">14. ESS Delay Charge</a></li>
<li><a href="#_ess_limit_discharge_cell_voltage">15. ESS Limit Discharge Cell Voltage</a></li>
<li><a href="#_ess_limit_total_discharge">16. ESS Limit Total Discharge</a></li>
<li><a href="#_ess_one_full_cycle">17. ESS One Full Cycle</a></li>
<li><a href="#_ess_predictive_delay_charge">18. ESS Predictive Delay Charge</a></li>
<li><a href="#_ess_sell_to_grid_limit">19. ESS Sell-To-Grid Limit</a></li>
<li><a href="#_evcs">20. EVCS</a></li>
<li><a href="#_evcs_fix_active_power">21. EVCS Fix Active Power</a></li>
<li><a href="#_high_load_timeslot">22. High-Load Timeslot</a></li>
<li><a href="#_io_alarm">23. IO Alarm</a>
<ul class="sectlevel2">
<li><a href="#_configuration_2">23.1. Configuration</a></li>
<li><a href="#_example_configuration_2">23.2. Example Configuration</a></li>
</ul>
</li>
<li><a href="#_io_fix_digital_output">24. IO Fix Digital Output</a></li>
<li><a href="#_pv_inverter_fix_power_limit">25. PV-Inverter Fix Power Limit</a></li>
<li><a href="#_sell_to_grid_limit">26. Sell-To-Grid limit</a></li>
<li><a href="#_symmetric_balancing">27. Symmetric Balancing</a></li>
<li><a href="#_symmetric_balancing_schedule">28. Symmetric Balancing Schedule</a></li>
<li><a href="#_symmetric_fix_active_power">29. Symmetric Fix Active Power</a></li>
<li><a href="#_symmetric_fix_reactive_power">30. Symmetric Fix Reactive Power</a></li>
<li><a href="#_symmetric_limit_active_power">31. Symmetric Limit Active Power</a></li>
<li><a href="#_symmetric_linear_power_band">32. Symmetric Linear Power Band</a></li>
<li><a href="#_symmetric_peak_shaving">33. Symmetric Peak-Shaving</a></li>
<li><a href="#_symmetric_random_power">34. Symmetric Random-Power</a></li>
<li><a href="#_symmetric_reactive_power_voltage_characteristics">35. Symmetric Reactive-Power Voltage-Characteristics</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>A OpenEMS Edge Controller holds the actual business logic or the actual algorithm that controls hardware. The logic of each active Controller is executed regularly on every Cycle, i.e. once per second.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_api_backend"><a class="anchor" href="#_api_backend"></a>1. Api Backend</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Connects to OpenEMS Backend and sends all Channel data regularly. It is implemented as a Controller, as Channels can be written from OpenEMS Backend.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.api.backend">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_api_modbus"><a class="anchor" href="#_api_modbus"></a>2. Api Modbus</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Provides a Modbus-Slave implementation for OpenEMS Edge. It provides access to Channels from an external device via Modbus/TCP.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.api.modbus">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rest_api_controller"><a class="anchor" href="#_rest_api_controller"></a>3. REST-Api Controller</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A REST-Api for external access to OpenEMS Edge. This Controller provides access to Channels and JSON-RPC Requests from an external device via JSON/REST.</p>
</div>
<div class="paragraph">
<p>The default port for the server is <strong>8084</strong>; so the default base address for REST calls is <code><a href="http://x:&lt;PASSWORD&gt;@&lt;IP&gt;:8084/rest" class="bare">http://x:&lt;PASSWORD&gt;@&lt;IP&gt;:8084/rest</a></code>, where</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>http</code> is the protocol</p>
</li>
<li>
<p><code>x</code> is the user. Authentication in OpenEMS is via password only, so the username can be omitted.</p>
</li>
<li>
<p><code>&lt;PASSWORD&gt;</code> is the user password. If no specific settings have been made, try 'user' or 'admin' here.</p>
</li>
<li>
<p><code>8084</code> is the configured port</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A good way to test REST-Api calls is via the Chrome extension <a href="https://chrome.google.com/webstore/detail/restlet-client-rest-api-t/aejoelaoggembcahagimdiliamlcdmfm">Restlet</a></p>
</div>
<div class="paragraph">
<p>For more information find the implementation  <a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.api.rest">Source Code <span class="icon"><i class="fa fa-github"></i></span></a>.</p>
</div>
<div class="paragraph">
<p>Those are the available REST-Api endpoints:</p>
</div>
<div class="sect2">
<h3 id="_endpoint_restchannelcomponent_idchannel_id"><a class="anchor" href="#_endpoint_restchannelcomponent_idchannel_id"></a>3.1. Endpoint <code>/rest/channel/&lt;Component-ID&gt;/&lt;Channel-ID&gt;</code></h3>
<div class="ulist">
<ul>
<li>
<p><code>Component-ID</code> is the ID of the Component, e.g. "_sum", "ess0", "meter0",&#8230;&#8203;</p>
</li>
<li>
<p><code>Channel-ID</code> is the ID of the Channel, e.g. "ActivePowerL1", "Soc",&#8230;&#8203;</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_get"><a class="anchor" href="#_get"></a>3.1.1. GET</h4>
<div class="paragraph">
<p>Use a HTTP request with method <code>GET</code> to read the current value of a Channel.</p>
</div>
<div class="paragraph">
<p><strong>Example:</strong> To read the current state of charge of the battery, send a GET request to <a href="http://x:user@localhost:8084/rest/channel/_sum/EssSoC" class="bare">http://x:user@localhost:8084/rest/channel/_sum/EssSoC</a>. It returns a response like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>{
  "value": 50
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_post"><a class="anchor" href="#_post"></a>3.1.2. POST</h4>
<div class="paragraph">
<p>Use a HTTP request with method <code>POST</code> to write a Channel.</p>
</div>
<div class="paragraph">
<p><strong>Example:</strong> To switch a Digital-Output or Relay on, send a POST request to <a href="http://x:user@localhost:8084/rest/channel/io0/Relay1" class="bare">http://x:user@localhost:8084/rest/channel/io0/Relay1</a> with the following body:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>{
  "value": true
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_endpoint_jsonrpc"><a class="anchor" href="#_endpoint_jsonrpc"></a>3.2. Endpoint '/jsonrpc'</h3>
<div class="paragraph">
<p>This allows remote procedure calls (RPC) using JSON-RPC. The JSON-RPC commands need to be sent as <code>POST</code> requests with the specified body.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
JSON-RPC usually requires the properties 'id' and 'jsonrpc'. Those can be omitted here, as they are not required for HTTP POST calls.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Following JSON-RPC commands are available:</p>
</div>
<div class="sect3">
<h4 id="_getedgeconfig"><a class="anchor" href="#_getedgeconfig"></a>3.2.1. getEdgeConfig</h4>
<div class="paragraph">
<p>Gets the current configuration of the OpenEMS Edge.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>{
  "method": "getEdgeConfig",
  "params": {}
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_componentjsonapi"><a class="anchor" href="#_componentjsonapi"></a>3.2.2. componentJsonApi</h4>
<div class="paragraph">
<p>Forwards a JSON-RPC payload to a given Component, identified by its Component-ID.</p>
</div>
<div class="sect4">
<h5 id="_getmodbusprotocol"><a class="anchor" href="#_getmodbusprotocol"></a>3.2.2.1. getModbusProtocol</h5>
<div class="paragraph">
<p>Gets the currently active Modbus-TCP protocol definition from the Modbus-TCP-Api Controller with the ID "ctrlModbusTcp0".</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>{
  "method":"componentJsonApi",
  "params":{
    "componentId":"ctrlApiModbusTcp0",
    "payload":{
      "method":"getModbusProtocol",
      "params":{

      }
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_updatecomponentconfig"><a class="anchor" href="#_updatecomponentconfig"></a>3.2.3. updateComponentConfig</h4>
<div class="paragraph">
<p>Updates a Component configuration.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>{
	"method": "updateComponentConfig",
	"params": {
		"componentId": "ctrlDebugLog0",
		"properties": [{
 			"name": "enabled",
			"value": true
		}]
	}
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_api_websocket"><a class="anchor" href="#_api_websocket"></a>4. Api Websocket</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Provides a JSON/REST implementation via HTTP Websocket for OpenEMS Edge. It provides access to Channels and JSON-RPC Requests from an external device via Websocket. This Controller is used for local connection of OpenEMS UI.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.api.websocket">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_asymmetric_balancing_cos_phi"><a class="anchor" href="#_asymmetric_balancing_cos_phi"></a>5. Asymmetric Balancing Cos-Phi</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Controls an asymmetric energy storage system in self-consumption optimization mode while keeping the grid meter on a defined cos-phi.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.asymmetric.balancingcosphi">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_asymmetric_fix_active_power"><a class="anchor" href="#_asymmetric_fix_active_power"></a>6. Asymmetric Fix Active Power</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sets a fixed active power for charging/discharging of an asymmetric energy storage system.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.asymmetric.fixactivepower">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_asymmetric_fix_reactive_power"><a class="anchor" href="#_asymmetric_fix_reactive_power"></a>7. Asymmetric Fix Reactive Power</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sets a fixed reactive power for an asymmetric energy storage system.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.asymmetric.fixreactivepower">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_asymmetric_phase_rectification"><a class="anchor" href="#_asymmetric_phase_rectification"></a>8. Asymmetric Phase Rectification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Balances the three phases at the grid using an asymmetric energy storage system.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.asymmetric.phaserectification">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_channel_threshold"><a class="anchor" href="#_channel_threshold"></a>9. Channel-Threshold</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Generic Controller that sets a digital output according to the value of given Channel - e.g. turn a Relay on, when battery state of charge is above a given threshold.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.channelthreshold">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_chp_control_via_state_of_charge_soc"><a class="anchor" href="#_chp_control_via_state_of_charge_soc"></a>10. CHP control via State-of-Charge (SoC)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Controls a CHP device. Signals the CHP to turn 'ON' when battery SoC is low; signal it to turn 'OFF' when SoC is high. This controller needs four parameters,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>State of Charge(Soc) of the ESS.</p>
</li>
<li>
<p>Low Threshold(LT) Soc</p>
</li>
<li>
<p>High Threshold(HT) Soc</p>
</li>
<li>
<p>Output channel to signal.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Soc of the Ess is compared with the LT and HT, and The following operations or state change is performed.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the Soc is less-than("&lt;") LT, signal is sent to the Output channel which eventually turns the CHP device 'ON'.</p>
</li>
<li>
<p>If the Soc is greater-than("&gt;") HT, signal is sent to the Output channel which turns the CHP device 'OFF'.</p>
</li>
<li>
<p>Any other conditions the there is no change in the State of the CHP device.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_configuration"><a class="anchor" href="#_configuration"></a>10.1. Configuration</h3>
<div class="ulist">
<ul>
<li>
<p><code>Component-ID</code> Unique ID of this Component (id), e.g. "ctrlIoAlarm0", "ctrlIoAlarm1"</p>
</li>
<li>
<p><code>Alias</code> Human-readable name of this Component; defaults to Component-ID (alias)</p>
</li>
<li>
<p><code>Input Channels</code> Addresses of the input State-Channels (inputChannelAddress), This is a array of input state channels.</p>
</li>
<li>
<p><code>Output Channel</code> Channel address of the Digital Output that should be switched (outputChannelAddress)</p>
</li>
<li>
<p><code>Low Threshold</code> Low boundary of the threshold</p>
</li>
<li>
<p><code>High Threshold</code> High boundary of the threshold</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_example_configuration"><a class="anchor" href="#_example_configuration"></a>10.2. Example Configuration</h3>
<div class="ulist">
<ul>
<li>
<p><code>Component-ID</code> : ctrlChpSoc0</p>
</li>
<li>
<p><code>Alias</code> : myChpCtrl</p>
</li>
<li>
<p><code>Input Channels</code> : _sum/EssSoc</p>
</li>
<li>
<p><code>Output Channel</code> : io0/Relay1</p>
</li>
<li>
<p><code>Low Threshold</code> 25</p>
</li>
<li>
<p><code>High Threshold</code> 75</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
_sum/EssSoc - represents the Soc channel of the ESS0,
io0/relay1 - represents the relay 1 of the relay board.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.chp.soc">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_detailed_debug_log"><a class="anchor" href="#_detailed_debug_log"></a>11. Detailed Debug Log</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Constantly shows the values of all Channels of a Component on the console. Primarily used for developing and debugging.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.debug.detailedlog">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_debug_log"><a class="anchor" href="#_debug_log"></a>12. Debug Log</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Constantly shows the most important values of all Components on the console. This is often activated by default to be able to track the running system easily.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.debug.log">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ess_ac_island"><a class="anchor" href="#_ess_ac_island"></a>13. ESS AC-Island</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Switches an AC PV inverter to the emergency power on grid outage.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.ess.acisland">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ess_delay_charge"><a class="anchor" href="#_ess_delay_charge"></a>14. ESS Delay Charge</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This Controller delays full charing of an energy storage system (ESS) to a certain hour of the day. If for example configured to delay till 4 pm, the allowed charge power is limited in a way, that 100 % State-of-Charge is reached only at 4 pm. The Controller therefor constantly watches the remaining time and remaining capacity of the ESS.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.ess.delaycharge">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ess_limit_discharge_cell_voltage"><a class="anchor" href="#_ess_limit_discharge_cell_voltage"></a>15. ESS Limit Discharge Cell Voltage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Limits the discharge power of an energy storage system according to minimal cell voltage, e.g. to keep energy for emergency power or to avoid deep discharge.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.ess.limitdischargecellvoltage">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ess_limit_total_discharge"><a class="anchor" href="#_ess_limit_total_discharge"></a>16. ESS Limit Total Discharge</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Limits the discharge power of an energy storage system according to its State-of-Charge, e.g. to keep energy for emergency power or to avoid deep discharge.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.ess.limittotaldischarge">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ess_one_full_cycle"><a class="anchor" href="#_ess_one_full_cycle"></a>17. ESS One Full Cycle</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Executes a full charge/discharge cycle with an energy storage system. This can be used to let the Battery Management System (BMS) reset its reference points for State-of-Charge calculattion.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.ess.onefullcycle">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ess_predictive_delay_charge"><a class="anchor" href="#_ess_predictive_delay_charge"></a>18. ESS Predictive Delay Charge</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Delays the charging of the AC or DC storage system based on predicted production and consumption.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.ess.predictivedelaycharge">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ess_sell_to_grid_limit"><a class="anchor" href="#_ess_sell_to_grid_limit"></a>19. ESS Sell-To-Grid Limit</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Limits the maximum sell-to-grid power by actively charging the Ess.
Can be used to apply a 70 % limit to the sell-to-grid power according to German law.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.ess.selltogridlimit">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_evcs"><a class="anchor" href="#_evcs"></a>20. EVCS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Controls an Electric Vehicle Charging Station (EVCS) in different modes, like "Force-Charge" and "Surplus Energy Charging".</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.evcs">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_evcs_fix_active_power"><a class="anchor" href="#_evcs_fix_active_power"></a>21. EVCS Fix Active Power</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sets a fixed maximum charge power to an Electric Vehicle Charging Station (EVCS).</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.evcs.fixactivepower">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_high_load_timeslot"><a class="anchor" href="#_high_load_timeslot"></a>22. High-Load Timeslot</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Controls an energy storage system for a High-Load timeslot application (German "Hochlastzeitfenster").</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.highloadtimeslot">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_io_alarm"><a class="anchor" href="#_io_alarm"></a>23. IO Alarm</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Switches a digital output, when one or more State-Channels are set. This controller can be used to signal alarms.
This controller is used to check for the State-Channels which are boolean type, which typically represents the error channels. A specific configured digital output channel can be signaled based on the configured input State-Channels(one more channels).</p>
</div>
<div class="sect2">
<h3 id="_configuration_2"><a class="anchor" href="#_configuration_2"></a>23.1. Configuration</h3>
<div class="ulist">
<ul>
<li>
<p><code>Component-ID</code> Unique ID of this Component (id), e.g. "ctrlIoAlarm0", "ctrlIoAlarm1"</p>
</li>
<li>
<p><code>Alias</code> Human-readable name of this Component; defaults to Component-ID (alias)</p>
</li>
<li>
<p><code>Input Channels</code> Addresses of the input State-Channels (inputChannelAddress), This is a array of input state channels.</p>
</li>
<li>
<p><code>Output Channel</code> Channel address of the Digital Output that should be switched (outputChannelAddress)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Multiple instances can be created in "Apache felix" during the configuration for each Output channel signal.</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_configuration_2"><a class="anchor" href="#_example_configuration_2"></a>23.2. Example Configuration</h3>
<div class="ulist">
<ul>
<li>
<p><code>Component-ID</code> : ctrlIoAlarm0</p>
</li>
<li>
<p><code>Alias</code> : myIoAlarm</p>
</li>
<li>
<p><code>Input Channels</code> : [ess0/State15, ess0/State33, ess0/State43]</p>
</li>
<li>
<p><code>Output Channel</code> : io0/Relay1</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
ess0/State15 - represents the State15 channels of the ESS0,
io0/relay1 = represents the relay 1 of the KM tronic relay board.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The above example configuration describes, if any of the configured three input channels is set to "True" then a signal "True" is sent to output channel, else the "False" signal is sent to outout channel.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.io.alarm">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_io_fix_digital_output"><a class="anchor" href="#_io_fix_digital_output"></a>24. IO Fix Digital Output</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sets a digital output statically ON or OFF.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.io.fixdigitaloutput">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_pv_inverter_fix_power_limit"><a class="anchor" href="#_pv_inverter_fix_power_limit"></a>25. PV-Inverter Fix Power Limit</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sets a fixed power limit for PV-Inverter production.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.pvinverter.fixpowerlimit">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sell_to_grid_limit"><a class="anchor" href="#_sell_to_grid_limit"></a>26. Sell-To-Grid limit</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Dynamically limits the Sell-To-Grid power to a defined maximum power.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.selltogridlimit">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_symmetric_balancing"><a class="anchor" href="#_symmetric_balancing"></a>27. Symmetric Balancing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Controls a symmetric energy storage system in self-consumption optimization mode.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.symmetric.balancing">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_symmetric_balancing_schedule"><a class="anchor" href="#_symmetric_balancing_schedule"></a>28. Symmetric Balancing Schedule</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Controls a symmetric energy storage system in self-consumption optimization mode. Allows the definition of a Schedule to set the target power on the grid meter. This Controller can be controlled using the OpenEMS Backend-to-Backend interface.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.symmetric.balancingschedule">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_symmetric_fix_active_power"><a class="anchor" href="#_symmetric_fix_active_power"></a>29. Symmetric Fix Active Power</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sets a fixed active power for charging/discharging of a symmetric energy storage system.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.symmetric.fixactivepower">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_symmetric_fix_reactive_power"><a class="anchor" href="#_symmetric_fix_reactive_power"></a>30. Symmetric Fix Reactive Power</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sets a fixed reactive power for a symmetric energy storage system.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.symmetric.fixreactivepower">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_symmetric_limit_active_power"><a class="anchor" href="#_symmetric_limit_active_power"></a>31. Symmetric Limit Active Power</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Limits the allowed active power for charging and discharging of a symmetric energy storage system.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.symmetric.limitactivepower">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_symmetric_linear_power_band"><a class="anchor" href="#_symmetric_linear_power_band"></a>32. Symmetric Linear Power Band</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Executes a test cycle for a symmetric energy storage system by increasing and decreasing the charging/discharging power in given limits.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.symmetric.linearpowerband">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_symmetric_peak_shaving"><a class="anchor" href="#_symmetric_peak_shaving"></a>33. Symmetric Peak-Shaving</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Applies peak-shaving at the grid using a symmetric energy storage system.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.symmetric.peakshaving">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_symmetric_random_power"><a class="anchor" href="#_symmetric_random_power"></a>34. Symmetric Random-Power</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Applies random charging/discharging of a symmetric energy storage system for performance tests.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.symmetric.randompower">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_symmetric_reactive_power_voltage_characteristics"><a class="anchor" href="#_symmetric_reactive_power_voltage_characteristics"></a>35. Symmetric Reactive-Power Voltage-Characteristics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Controls a symmetric energy storage system using a Q-by-U reference function.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenEMS/openems/tree/develop/io.openems.edge.controller.symmetric.reactivepowervoltagecharacteristic">Source Code <span class="icon"><i class="fa fa-github"></i></span></a></p>
</div>
</div>
</div>
</article>
  </main>
</div>
<script src="../../../_/js/site.js"></script>
<script src="../../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
